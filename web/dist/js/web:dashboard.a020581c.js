(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["web:dashboard"],{"0fd9":function(t,e,n){"use strict";n("13d5"),n("14d9"),n("4b85");var a=n("2b0e"),i=n("d9f7"),s=n("80d2");const r=["sm","md","lg","xl"],o=["start","end","center"];function l(t,e){return r.reduce((n,a)=>(n[t+Object(s["G"])(a)]=e(),n),{})}const c=t=>[...o,"baseline","stretch"].includes(t),u=l("align",()=>({type:String,default:null,validator:c})),d=t=>[...o,"space-between","space-around"].includes(t),f=l("justify",()=>({type:String,default:null,validator:d})),p=t=>[...o,"space-between","space-around","stretch"].includes(t),h=l("alignContent",()=>({type:String,default:null,validator:p})),g={align:Object.keys(u),justify:Object.keys(f),alignContent:Object.keys(h)},v={align:"align",justify:"justify",alignContent:"align-content"};function m(t,e,n){let a=v[t];if(null!=n){if(e){const n=e.replace(t,"");a+="-"+n}return a+="-"+n,a.toLowerCase()}}const b=new Map;e["a"]=a["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...f,alignContent:{type:String,default:null,validator:p},...h},render(t,{props:e,data:n,children:a}){let s="";for(const i in e)s+=String(e[i]);let r=b.get(s);if(!r){let t;for(t in r=[],g)g[t].forEach(n=>{const a=e[n],i=m(t,n,a);i&&r.push(i)});r.push({"no-gutters":e.noGutters,"row--dense":e.dense,["align-"+e.align]:e.align,["justify-"+e.justify]:e.justify,["align-content-"+e.alignContent]:e.alignContent}),b.set(s,r)}return t(e.tag,Object(i["a"])(n,{staticClass:"row",class:r}),a)}})},"17b3":function(t,e,n){},"1be4":function(t,e,n){var a=n("d066");t.exports=a("document","documentElement")},"21a6":function(t,e,n){(function(n){var a,i,s;(function(n,r){i=[],a=r,s="function"===typeof a?a.apply(e,i):a,void 0===s||(t.exports=s)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function a(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){l(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function s(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,e,n){var o=r.URL||r.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?s(l):i(l.href)?a(t,e,n):s(l,l.target="_blank")):(l.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,r){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,r),n);else if(i(t))a(t,n,r);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){s(o)}))}}:function(t,e,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return a(t,e,n);var s="application/octet-stream"===t.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var d=r.URL||r.webkitURL,f=d.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});r.saveAs=l.saveAs=l,t.exports=l}))}).call(this,n("c8ba"))},"33d1":function(t,e,n){"use strict";var a=n("23e7"),i=n("7b0b"),s=n("07fa"),r=n("5926"),o=n("44d2");a({target:"Array",proto:!0},{at:function(t){var e=i(this),n=s(e),a=r(t),o=a>=0?a:n+a;return o<0||o>=n?void 0:e[o]}}),o("at")},"37e8":function(t,e,n){var a=n("83ab"),i=n("aed9"),s=n("9bf2"),r=n("825a"),o=n("fc6a"),l=n("df75");e.f=a&&!i?Object.defineProperties:function(t,e){r(t);var n,a=o(e),i=l(e),c=i.length,u=0;while(c>u)s.f(t,n=i[u++],a[n]);return t}},"44d2":function(t,e,n){var a=n("b622"),i=n("7c73"),s=n("9bf2").f,r=a("unscopables"),o=Array.prototype;void 0==o[r]&&s(o,r,{configurable:!0,value:i(null)}),t.exports=function(t){o[r][t]=!0}},"62ad":function(t,e,n){"use strict";n("13d5"),n("14d9"),n("4b85");var a=n("2b0e"),i=n("d9f7"),s=n("80d2");const r=["sm","md","lg","xl"],o=(()=>r.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),l=(()=>r.reduce((t,e)=>(t["offset"+Object(s["G"])(e)]={type:[String,Number],default:null},t),{}))(),c=(()=>r.reduce((t,e)=>(t["order"+Object(s["G"])(e)]={type:[String,Number],default:null},t),{}))(),u={col:Object.keys(o),offset:Object.keys(l),order:Object.keys(c)};function d(t,e,n){let a=t;if(null!=n&&!1!==n){if(e){const n=e.replace(t,"");a+="-"+n}return"col"!==t||""!==n&&!0!==n?(a+="-"+n,a.toLowerCase()):a.toLowerCase()}}const f=new Map;e["a"]=a["default"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:n,children:a,parent:s}){let r="";for(const i in e)r+=String(e[i]);let o=f.get(r);if(!o){let t;for(t in o=[],u)u[t].forEach(n=>{const a=e[n],i=d(t,n,a);i&&o.push(i)});const n=o.some(t=>t.startsWith("col-"));o.push({col:!n||!e.cols,["col-"+e.cols]:e.cols,["offset-"+e.offset]:e.offset,["order-"+e.order]:e.order,["align-self-"+e.alignSelf]:e.alignSelf}),f.set(r,o)}return t(e.tag,Object(i["a"])(n,{class:o}),a)}})},"7c73":function(t,e,n){var a,i=n("825a"),s=n("37e8"),r=n("7839"),o=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),d=">",f="<",p="prototype",h="script",g=u("IE_PROTO"),v=function(){},m=function(t){return f+h+d+t+f+"/"+h+d},b=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){var t,e=c("iframe"),n="java"+h+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(m("document.F=Object")),t.close(),t.F},w=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&a?b(a):y():b(a);var t=r.length;while(t--)delete w[p][r[t]];return w()};o[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(v[p]=i(t),n=new v,v[p]=null,n[g]=t):n=w(),void 0===e?n:s.f(n,e)}},"891e":function(t,e,n){"use strict";n("14d9"),n("17b3");var a=n("9d26"),i=n("dc22"),s=n("a9ad"),r=n("de2c"),o=n("7560"),l=n("58df");e["a"]=Object(l["a"])(s["a"],Object(r["a"])({onVisible:["init"]}),o["a"]).extend({name:"v-pagination",directives:{Resize:i["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const n=e%2===0?1:0,a=Math.floor(e/2),i=this.length-a+1+n;if(this.value>a&&this.value<i){const t=1,e=this.length,i=this.value-a+2,s=this.value+a-2-n,r=i-1===t+1?2:"...",o=s+1===e-1?s+1:"...";return[1,r,...this.range(i,s),o,this.length]}if(this.value===a){const t=this.value+a-1-n;return[...this.range(1,t),"...",this.length]}if(this.value===i){const t=this.value-a+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,a),"...",...this.range(i,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const n=[];t=t>0?t:1;for(let a=t;a<=e;a++)n.push(a);return n},genIcon(t,e,n,i,s){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{disabled:n,type:"button","aria-label":s},on:n?{}:{click:i}},[t(a["a"],[e])])])},genItem(t,e){const n=e===this.value&&(this.color||"primary"),a=e===this.value,i=a?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(i,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,n)=>t("li",{key:n},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},df75:function(t,e,n){var a=n("ca84"),i=n("7839");t.exports=Object.keys||function(t){return a(t,i)}},ea98:function(t,e,n){"use strict";var a=n("23e7"),i=n("e330"),s=n("1d80"),r=n("5926"),o=n("577e"),l=n("d039"),c=i("".charAt),u=l((function(){return"\ud842"!=="𠮷".at(-2)}));a({target:"String",proto:!0,forced:u},{at:function(t){var e=o(s(this)),n=e.length,a=r(t),i=a>=0?a:n+a;return i<0||i>=n?void 0:c(e,i)}})},f70f:function(t,e,n){"use strict";n.r(e);var a=n("8336"),i=n("b0af"),s=n("99d9"),r=n("62ad"),o=n("132d"),l=n("8860"),c=n("da13"),u=n("34c3"),d=n("5d23"),f=n("891e"),p=n("0fd9"),h=n("2fa4"),g=n("8654"),v=(n("33d1"),n("ea98"),function(){var t=this,e=t._self._c;return e("div",[e(p["a"],[e(r["a"],{attrs:{md:"6",sm:"12",lg:"6",xl:"6",xs:"12"}},[e(g["a"],{attrs:{outlined:"","append-icon":"mdi-magnify",label:"Buscar por código",loading:t.loading},on:{"click:append":t.search,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.searchUuid,callback:function(e){t.searchUuid=e},expression:"searchUuid"}})],1),e(r["a"],{attrs:{md:"6",sm:"12",lg:"6",xl:"6",xs:"12"}},[t.numeroDePaginas?e(f["a"],{staticClass:"mb-2",attrs:{length:t.numeroDePaginas,color:"red darken-2"},model:{value:t.paginaActiva,callback:function(e){t.paginaActiva=e},expression:"paginaActiva"}}):t._e()],1)],1),e(p["a"],t._l(t.desplazamientos,(function(n){return e(r["a"],{key:n.id,attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[e(i["a"],[e(s["d"],{staticClass:"mb-0 pb-0"},[t._v(" Fecha registro: "+t._s(n.fecha_creado.split(".").at(0).replace("T"," "))+" "),e(h["a"]),e("div",{staticClass:"body-1"},[t._v("Costo")])],1),e(s["c"],{staticClass:"my-0 py-0"},[e(l["a"],t._l(n.detalle_medios_desplazamiento,(function(n){return e(c["a"],{key:n.id,attrs:{dense:""}},[e(d["c"],[t._v(" "+t._s(n.medio_desplazamiento.nombre)+" ")]),e(u["a"],[e(o["a"],[t._v(" "+t._s("mdi-"+n.medio_desplazamiento.icono)+" ")])],1),e(d["b"],{staticClass:"text-right"},[t._v(" "+t._s(n.duracion)+" ")]),e(d["b"],{staticClass:"text-right"},[t._v(" "+t._s(n.costo)+" ")])],1)})),1)],1),e(s["a"],[e(p["a"],{staticClass:"mb-1 mr-1",attrs:{align:"center",justify:"end"}},[e(r["a"],[e("span",{staticClass:"font-weight-bold mr-2"},[t._v(" Identificador: ")]),t._v(" "+t._s(n.id)+" ")]),e(r["a"],{staticClass:"d-flex justify-end"},[e(a["a"],{staticClass:"mr-2",attrs:{outlined:"",color:"green darken-2"},on:{click:function(e){return t.descargar(n)}}},[e(o["a"],[t._v("mdi-file-delimited-outline")]),t._v(" Descargar ")],1),e(a["a"],{attrs:{dark:"",outlined:"",color:"red darken-2"},on:{click:function(e){return t.visualizar(n)}}},[t._v(" Visualizar ")])],1)],1)],1)],1)],1)})),1),0===t.desplazamientos.length?e("h2",{staticClass:"grey--text text-lighten-5"},[t._v(" No se ha registrado ningún recorrido ")]):t._e()],1)}),m=[],b=(n("14d9"),n("21a6")),y=n("2f62"),w={name:"DesplazamientoListado",created(){this.isAuthenticated?this.obtenerDesplazamientos():this.$router.push({name:"web:ingresar"},t=>{console.log(t)})},data(){return{no_data:!1,searchUuid:null,loading:!1,numeroDePaginas:0,paginaActiva:1,desplazamientos:[]}},methods:{async obtenerDesplazamientos(){const t="string"===typeof this.searchUuid&&this.searchUuid?{value:this.searchUuid.toLowerCase(),case_sensitive:!0}:void 0;try{const{data:{data:e,meta:{last_page:n}}}=await this.axios.post("desplazamientos/search",{sort:[{field:"fecha_creado",direction:"desc"}],includes:[{relation:"detalle_medios_desplazamiento.medio_desplazamiento"}],search:t},{params:{page:this.paginaActiva}});this.desplazamientos=e,this.numeroDePaginas=n,this.desplazamientos||(this.no_data=!0)}catch(e){this.$toast.error("Error al obtener los desplazamiento.")}this.loading=!1},descargar(t){const{id:e}=t;this.axios.post(`reporte-desplazamiento/${e}/csv`,{responseType:"arraybuffer"}).then(t=>{const n=t.data,a=new Blob([n],{type:"text/plain"}),i=`reporte-desplazamiento-${e}.csv`;Object(b["saveAs"])(a,i)}).catch(t=>{console.error("Error en la solicitud:",t)})},search(){this.loading=!0,this.paginaActiva=1,this.obtenerDesplazamientos()},visualizar(t){this.$router.push({name:"web:desplazamiento:detalle",params:{uuid:t.id}})}},watch:{paginaActiva(){this.obtenerDesplazamientos()}},computed:{...Object(y["c"])("user",["isAuthenticated"])}},_=w,x=n("2877"),j=Object(x["a"])(_,v,m,!1,null,null,null);e["default"]=j.exports}}]);
//# sourceMappingURL=web:dashboard.a020581c.js.map