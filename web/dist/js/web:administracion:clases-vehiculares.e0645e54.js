(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["web:administracion:clases-vehiculares"],{"0fd9":function(e,t,i){"use strict";i("13d5"),i("14d9"),i("4b85");var s=i("2b0e"),a=i("d9f7"),n=i("80d2");const l=["sm","md","lg","xl"],r=["start","end","center"];function c(e,t){return l.reduce((i,s)=>(i[e+Object(n["G"])(s)]=t(),i),{})}const o=e=>[...r,"baseline","stretch"].includes(e),d=c("align",()=>({type:String,default:null,validator:o})),u=e=>[...r,"space-between","space-around"].includes(e),h=c("justify",()=>({type:String,default:null,validator:u})),m=e=>[...r,"space-between","space-around","stretch"].includes(e),p=c("alignContent",()=>({type:String,default:null,validator:m})),f={align:Object.keys(d),justify:Object.keys(h),alignContent:Object.keys(p)},g={align:"align",justify:"justify",alignContent:"align-content"};function I(e,t,i){let s=g[e];if(null!=i){if(t){const i=t.replace(e,"");s+="-"+i}return s+="-"+i,s.toLowerCase()}}const v=new Map;t["a"]=s["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:o},...d,justify:{type:String,default:null,validator:u},...h,alignContent:{type:String,default:null,validator:m},...p},render(e,{props:t,data:i,children:s}){let n="";for(const a in t)n+=String(t[a]);let l=v.get(n);if(!l){let e;for(e in l=[],f)f[e].forEach(i=>{const s=t[i],a=I(e,i,s);a&&l.push(a)});l.push({"no-gutters":t.noGutters,"row--dense":t.dense,["align-"+t.align]:t.align,["justify-"+t.justify]:t.justify,["align-content-"+t.alignContent]:t.alignContent}),v.set(n,l)}return e(t.tag,Object(a["a"])(i,{staticClass:"row",class:l}),s)}})},"2a7f":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("71d9"),a=i("80d2");const n=Object(a["j"])("v-toolbar__title"),l=Object(a["j"])("v-toolbar__items");s["a"]},"2bfd":function(e,t,i){},"62ad":function(e,t,i){"use strict";i("13d5"),i("14d9"),i("4b85");var s=i("2b0e"),a=i("d9f7"),n=i("80d2");const l=["sm","md","lg","xl"],r=(()=>l.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),c=(()=>l.reduce((e,t)=>(e["offset"+Object(n["G"])(t)]={type:[String,Number],default:null},e),{}))(),o=(()=>l.reduce((e,t)=>(e["order"+Object(n["G"])(t)]={type:[String,Number],default:null},e),{}))(),d={col:Object.keys(r),offset:Object.keys(c),order:Object.keys(o)};function u(e,t,i){let s=e;if(null!=i&&!1!==i){if(t){const i=t.replace(e,"");s+="-"+i}return"col"!==e||""!==i&&!0!==i?(s+="-"+i,s.toLowerCase()):s.toLowerCase()}}const h=new Map;t["a"]=s["default"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...r,offset:{type:[String,Number],default:null},...c,order:{type:[String,Number],default:null},...o,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:i,children:s,parent:n}){let l="";for(const a in t)l+=String(t[a]);let r=h.get(l);if(!r){let e;for(e in r=[],d)d[e].forEach(i=>{const s=t[i],a=u(e,i,s);a&&r.push(a)});const i=r.some(e=>e.startsWith("col-"));r.push({col:!i||!t.cols,["col-"+t.cols]:t.cols,["offset-"+t.offset]:t.offset,["order-"+t.order]:t.order,["align-self-"+t.alignSelf]:t.alignSelf}),h.set(l,r)}return e(t.tag,Object(a["a"])(i,{class:r}),s)}})},6808:function(e,t,i){"use strict";i.r(t);var s=i("c6a6"),a=i("8336"),n=i("b0af"),l=i("99d9"),r=i("62ad"),c=i("a523"),o=i("8fea"),d=i("169a"),u=i("ce7e"),h=i("4bd4"),m=i("132d"),p=i("0fd9"),f=i("2fa4"),g=i("8654"),I=i("71d9"),v=i("2a7f"),x=function(){var e=this,t=e._self._c;return t("div",[t(o["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"sort-by":"id","footer-props":{pageText:"{0}-{1} de {2}","items-per-page-text":"Elementos por página"}},scopedSlots:e._u([{key:"no-data",fn:function(){return[e._v(" Sin registros ")]},proxy:!0},{key:"top",fn:function(){return[t(I["a"],{attrs:{flat:""}},[t(v["a"],{staticClass:"text-capitalize"},[e._v(" Clases Vehiculares ")]),t(u["a"],{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(f["a"]),t(d["a"],{attrs:{"max-width":"600px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t(a["a"],e._g(e._b({staticClass:"mb-2",attrs:{color:"red darken-2",dark:""}},"v-btn",s,!1),i),[t(m["a"],{staticClass:"mr-1"},[e._v(" mdi-plus-box ")]),e._v(" Nuevo registro ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(n["a"],[t(l["d"],{},[e._v(" "+e._s(e.formTitle)+" ")]),t(l["c"],[t(h["a"],{ref:"form_clase"},[t(c["a"],[t(p["a"],[t(r["a"],{staticClass:"mt-2 pb-0",attrs:{cols:"12",sm:"12"}},[t(g["a"],{attrs:{rules:[e.fieldRule],label:"Ingrese el nombre*",outlined:""},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1),t(r["a"],{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[t(g["a"],{attrs:{rules:[e.fieldRule],label:"Ingrese descripcion*",outlined:""},model:{value:e.editedItem.descripcion,callback:function(t){e.$set(e.editedItem,"descripcion",t)},expression:"editedItem.descripcion"}})],1),t(r["a"],{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[t(s["a"],{attrs:{rules:[e.integerRule],"item-text":"nombre","item-value":"id",outlined:"",items:e.clasificaciones},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Selecciona clasificación "),t("span",{staticClass:"red--text"},[t("strong",[e._v("* ")])])]},proxy:!0}]),model:{value:e.editedItem.id_clasificacion_vehicular,callback:function(t){e.$set(e.editedItem,"id_clasificacion_vehicular",t)},expression:"editedItem.id_clasificacion_vehicular"}})],1)],1)],1)],1)],1),t(l["a"],{staticClass:"py-5"},[t(f["a"]),t(a["a"],{attrs:{text:""},on:{click:function(t){return e.close()}}},[e._v(" Cancelar ")]),-1==e.editedIndex?t(a["a"],{staticClass:"red darken-1",attrs:{text:"",dark:""},on:{click:function(t){return e.save()}}},[e._v(" Guardar ")]):t(a["a"],{staticClass:"red darken-1",attrs:{text:"",dark:""},on:{click:function(t){return e.update(e.editedItem)}}},[e._v(" Actualizar ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:i}){return[t(m["a"],{staticClass:"mr-2",on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),t(m["a"],{attrs:{color:"red lighten-2"},on:{click:function(t){return e.deleteItemConfirm(i)}}},[e._v(" mdi-delete ")])]}}])}),t(d["a"],{attrs:{"max-width":"530px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(n["a"],[t(l["d"],{staticClass:"justify-center"},[e._v(" ¿Está seguro que desea eliminar el registro? ")]),t(l["a"],{},[t(f["a"]),t(a["a"],{attrs:{text:"",color:"red darken-1"},on:{click:function(t){return e.deleteItem()}}},[e._v("Aceptar")]),t(a["a"],{attrs:{text:"",color:"gray darken-1"},on:{click:function(t){e.dialogDelete=!1}}},[e._v("Cancelar")]),t(f["a"])],1)],1)],1)],1)},b=[],y=i("132a"),S={data(){return{headers:[{text:"Nombre",align:"start",value:"nombre"},{text:"Descripción",align:"center",value:"descripcion"},{text:"Acciones",align:"right",value:"actions",sortable:!1}],items:[],clasificaciones:[],dialog:!1,dialogDelete:!1,editedIndex:-1,editedItem:{id:"",nombre:"",descripcion:"",id_clasificacion_vehicular:""},defaultItem:{nombre:"",descripcion:"",id_clasificacion_vehicular:""}}},computed:{formTitle(){return-1===this.editedIndex?"Crear clase vehicular":"Editar clase vehicular"}},methods:{integerRule:Object(y["b"])("Debe seleccionar un rol."),fieldRule:Object(y["g"])("Debe completar el campo."),async initialize(){const e=await this.axios.get("/clases-vehicular");this.items=e.data.data,this.getClasificacionVehicular()},async save(){try{const e=this.$refs.form_clase.validate();e&&(await this.axios.post("/clases-vehicular",this.editedItem),this.initialize(),this.$toast.success("Registro creado."),this.close())}catch(e){this.$toast.error("Error al crear la clasificación vehicular.")}},editItem(e){this.editedIndex=this.items.indexOf(e),this.editedItem={...e},this.dialog=!0},async update(e){try{const t=this.$refs.form_clase.validate();t&&(await this.axios.put("/clases-vehicular/"+e.id,this.editedItem),this.initialize(),this.$toast.success("Registro actualizado correctamente."),this.close())}catch(t){this.$toast.error("Error al crear la clasificación vehicular.")}},deleteItemConfirm(e){this.editedItem.id=e.id,this.dialogDelete=!0},async deleteItem(){try{await this.axios.delete("/clases-vehicular/"+this.editedItem.id),this.$toast.success("Registro eliminado"),this.initialize(),this.dialogDelete=!1}catch(e){this.$toast.error("Error al eliminar la clasificación vehicular.")}},async getClasificacionVehicular(){const e=await this.axios.get("/clasificaciones-vehicular");this.clasificaciones=e.data.data},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})}},async created(){this.initialize()}},C=S,_=i("2877"),k=Object(_["a"])(C,x,b,!1,null,null,null);t["default"]=k.exports},c6a6:function(e,t,i){"use strict";i("2bfd");var s=i("b974"),a=i("8654"),n=i("d9f7"),l=i("80d2");const r={...s["b"],offsetY:!0,offsetOverflow:!0,transition:!1};t["a"]=s["a"].extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,i)=>i.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:s["a"].options.props.menuProps.type,default:()=>r},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(e=>this.getValue(e))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(e=>!this.hasItem(e)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(e=>{const t=Object(l["r"])(e,this.itemText),i=null!=t?String(t):"";return this.filter(e,String(this.internalSearch),i)})},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch!==e&&(this.lazySearch=e,this.$emit("update:search-input",e))}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=s["a"].options.computed.$_menuProps.call(this);return e.contentClass=("v-autocomplete__content "+(e.contentClass||"")).trim(),{...r,...e}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue)))},listData(){const e=s["a"].options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=null)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(e,t){if(e!==t){if(!this.autoSelectFirst){const i=t[this.$refs.menu.listIndex];i?this.setMenuIndex(e.findIndex(e=>e===i)):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick(()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.autoSelectFirst&&e.length&&(this.setMenuIndex(0),this.$emit("update:list-index",this.$refs.menu.listIndex)))})}},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===l["x"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===l["x"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==l["x"].backspace&&e!==l["x"].delete||this.deleteCurrentItem())},deleteCurrentItem(){const e=this.selectedIndex,t=this.selectedItems[e];if(!this.isInteractive||this.getDisabled(t))return;const i=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==i)return void(this.selectedIndex=i);const s=this.selectedItems.length,a=e!==s-1?e:e-1,n=this.selectedItems[a];n?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=a},clearableCallback(){this.internalSearch=null,s["a"].options.methods.clearableCallback.call(this)},genInput(){const e=a["a"].options.methods.genInput.call(this);return e.data=Object(n["a"])(e.data,{attrs:{"aria-activedescendant":Object(l["p"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(l["p"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=s["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?s["a"].options.methods.genSelections.call(this):[]},onClick(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,i=t.value;t.value&&this.activateMenu(),this.multiple||""!==i||this.deleteCurrentItem(),this.internalSearch=i,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;!e.ctrlKey&&[l["x"].home,l["x"].end].includes(t)||s["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){s["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){s["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){s["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){var t,i;if(-1===this.selectedIndex)return;const s=this.selectedItems[this.selectedIndex],a=this.getText(s);null===(t=e.clipboardData)||void 0===t||t.setData("text/plain",a),null===(i=e.clipboardData)||void 0===i||i.setData("text/vnd.vuetify.autocomplete.item+plain",a),e.preventDefault()}}})}}]);
//# sourceMappingURL=web:administracion:clases-vehiculares.e0645e54.js.map