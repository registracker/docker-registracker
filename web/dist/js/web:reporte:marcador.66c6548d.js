(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["web:reporte:marcador"],{"0fd9":function(t,e,n){"use strict";n("13d5"),n("14d9"),n("4b85");var a=n("2b0e"),i=n("d9f7"),o=n("80d2");const s=["sm","md","lg","xl"],r=["start","end","center"];function l(t,e){return s.reduce((n,a)=>(n[t+Object(o["G"])(a)]=e(),n),{})}const c=t=>[...r,"baseline","stretch"].includes(t),u=l("align",()=>({type:String,default:null,validator:c})),d=t=>[...r,"space-between","space-around"].includes(t),f=l("justify",()=>({type:String,default:null,validator:d})),g=t=>[...r,"space-between","space-around","stretch"].includes(t),p=l("alignContent",()=>({type:String,default:null,validator:g})),h={align:Object.keys(u),justify:Object.keys(f),alignContent:Object.keys(p)},v={align:"align",justify:"justify",alignContent:"align-content"};function m(t,e,n){let a=v[t];if(null!=n){if(e){const n=e.replace(t,"");a+="-"+n}return a+="-"+n,a.toLowerCase()}}const b=new Map;e["a"]=a["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...f,alignContent:{type:String,default:null,validator:g},...p},render(t,{props:e,data:n,children:a}){let o="";for(const i in e)o+=String(e[i]);let s=b.get(o);if(!s){let t;for(t in s=[],h)h[t].forEach(n=>{const a=e[n],i=m(t,n,a);i&&s.push(i)});s.push({"no-gutters":e.noGutters,"row--dense":e.dense,["align-"+e.align]:e.align,["justify-"+e.justify]:e.justify,["align-content-"+e.alignContent]:e.alignContent}),b.set(o,s)}return t(e.tag,Object(i["a"])(n,{staticClass:"row",class:s}),a)}})},"17b3":function(t,e,n){},"21a6":function(t,e,n){(function(n){var a,i,o;(function(n,s){i=[],a=s,o="function"===typeof a?a.apply(e,i):a,void 0===o||(t.exports=o)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function a(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){l(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,r=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,e,n){var r=s.URL||s.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):i(l.href)?a(t,e,n):o(l,l.target="_blank")):(l.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),n);else if(i(t))a(t,n,s);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){o(r)}))}}:function(t,e,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return a(t,e,n);var o="application/octet-stream"===t.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var d=s.URL||s.webkitURL,f=d.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});s.saveAs=l.saveAs=l,t.exports=l}))}).call(this,n("c8ba"))},"2fd7":function(t,e,n){"use strict";n.r(e);var a=n("8336"),i=n("b0af"),o=n("99d9"),s=n("62ad"),r=n("132d"),l=n("891e"),c=n("0fd9"),u=n("8654"),d=function(){var t=this,e=t._self._c;return e("div",[e(c["a"],[e("i",{staticClass:"mdi mdi-facebook-box"}),e(s["a"],{attrs:{sm:"12",md:"6",lg:"6",xl:"6"}},[e(u["a"],{attrs:{outlined:"","append-icon":"mdi-magnify",label:"Buscar por código",loading:t.loading},on:{"click:append":t.search,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.form.codigo,callback:function(e){t.$set(t.form,"codigo","string"===typeof e?e.trim():e)},expression:"form.codigo"}})],1),e(s["a"],{attrs:{md:"6",sm:"12",lg:"6",xl:"6"}},[t.numeroDePaginas?e(l["a"],{staticClass:"mb-2",attrs:{length:t.numeroDePaginas,color:"red darken-2"},model:{value:t.paginaActiva,callback:function(e){t.paginaActiva=e},expression:"paginaActiva"}}):t._e()],1)],1),e(c["a"],t._l(t.levantamientos,(function(n){return e(s["a"],{key:n.id,attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[e(i["a"],[e(o["d"],[t._v(" Código: "+t._s(n.codigo)+" ")]),e(o["b"],[t._v(" Fecha vencimiento: "+t._s(n.fecha_vencimiento)+" ")]),e(o["a"],[e(c["a"],{staticClass:"mb-1 mr-1",attrs:{align:"center",justify:"end"}},[e(a["a"],{staticClass:"mr-2",attrs:{outlined:"",color:"green darken-2"},on:{click:function(e){return t.descargar(n)}}},[e(r["a"],[t._v("mdi-file-delimited-outline")]),t._v(" Descargar ")],1),e(a["a"],{attrs:{outlined:"",color:"red darken-2"},on:{click:function(e){return t.visualizar(n)}}},[t._v(" Visualizar ")])],1)],1)],1)],1)})),1)],1)},f=[],g=(n("14d9"),n("21a6")),p={name:"LevantamientoListado",created(){this.fetchLevantamientos()},data(){return{form:{codigo:null},loading:!1,numeroDePaginas:0,paginaActiva:1,levantamientos:[]}},methods:{async fetchLevantamientos(){const t="string"===typeof this.form.codigo&&this.form.codigo?{value:this.form.codigo.toLowerCase(),case_sensitive:!0}:void 0,e=[];this.form.codigo&&e.push({field:"codigo",operator:"like",value:`%${this.codigo}%`});try{const{data:{data:e,meta:{last_page:n}}}=await this.axios.post("levantamientos/search",{filters:[],search:t},{params:{page:this.paginaActiva,limit:20}});this.levantamientos=e,this.numeroDePaginas=n}catch(n){this.$toast.error("Error al obtener los registros de levantamiento.")}this.loading=!1},search(){this.loading=!0,this.paginaActiva=1,this.fetchLevantamientos()},descargar(t){const{codigo:e}=t;this.axios.post(`reporte-marcador/${e}/csv`,{responseType:"arraybuffer"}).then(t=>{const n=t.data,a=new Blob([n],{type:"text/plain"}),i=`reporte-levantamiento-${e}.csv`;Object(g["saveAs"])(a,i)}).catch(t=>{console.error("Error en la solicitud:",t)})},visualizar(t){this.$router.push({name:"web:reporte:detalle-marcador",params:{codigo:t.codigo}})}},watch:{paginaActiva(){this.fetchLevantamientos()}}},h=p,v=n("2877"),m=Object(v["a"])(h,d,f,!1,null,null,null);e["default"]=m.exports},"62ad":function(t,e,n){"use strict";n("13d5"),n("14d9"),n("4b85");var a=n("2b0e"),i=n("d9f7"),o=n("80d2");const s=["sm","md","lg","xl"],r=(()=>s.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),l=(()=>s.reduce((t,e)=>(t["offset"+Object(o["G"])(e)]={type:[String,Number],default:null},t),{}))(),c=(()=>s.reduce((t,e)=>(t["order"+Object(o["G"])(e)]={type:[String,Number],default:null},t),{}))(),u={col:Object.keys(r),offset:Object.keys(l),order:Object.keys(c)};function d(t,e,n){let a=t;if(null!=n&&!1!==n){if(e){const n=e.replace(t,"");a+="-"+n}return"col"!==t||""!==n&&!0!==n?(a+="-"+n,a.toLowerCase()):a.toLowerCase()}}const f=new Map;e["a"]=a["default"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...r,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:n,children:a,parent:o}){let s="";for(const i in e)s+=String(e[i]);let r=f.get(s);if(!r){let t;for(t in r=[],u)u[t].forEach(n=>{const a=e[n],i=d(t,n,a);i&&r.push(i)});const n=r.some(t=>t.startsWith("col-"));r.push({col:!n||!e.cols,["col-"+e.cols]:e.cols,["offset-"+e.offset]:e.offset,["order-"+e.order]:e.order,["align-self-"+e.alignSelf]:e.alignSelf}),f.set(s,r)}return t(e.tag,Object(i["a"])(n,{class:r}),a)}})},"891e":function(t,e,n){"use strict";n("14d9"),n("17b3");var a=n("9d26"),i=n("dc22"),o=n("a9ad"),s=n("de2c"),r=n("7560"),l=n("58df");e["a"]=Object(l["a"])(o["a"],Object(s["a"])({onVisible:["init"]}),r["a"]).extend({name:"v-pagination",directives:{Resize:i["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const n=e%2===0?1:0,a=Math.floor(e/2),i=this.length-a+1+n;if(this.value>a&&this.value<i){const t=1,e=this.length,i=this.value-a+2,o=this.value+a-2-n,s=i-1===t+1?2:"...",r=o+1===e-1?o+1:"...";return[1,s,...this.range(i,o),r,this.length]}if(this.value===a){const t=this.value+a-1-n;return[...this.range(1,t),"...",this.length]}if(this.value===i){const t=this.value-a+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,a),"...",...this.range(i,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const n=[];t=t>0?t:1;for(let a=t;a<=e;a++)n.push(a);return n},genIcon(t,e,n,i,o){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{disabled:n,type:"button","aria-label":o},on:n?{}:{click:i}},[t(a["a"],[e])])])},genItem(t,e){const n=e===this.value&&(this.color||"primary"),a=e===this.value,i=a?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(i,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,n)=>t("li",{key:n},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})}}]);
//# sourceMappingURL=web:reporte:marcador.66c6548d.js.map