{"version":3,"sources":["webpack:///../../../src/components/VSubheader/VSubheader.ts","webpack:///./src/components/administracion/GestionLevantamientoContadorUsuario.vue","webpack:///src/components/administracion/GestionLevantamientoContadorUsuario.vue","webpack:///./src/components/administracion/GestionLevantamientoContadorUsuario.vue?f4aa","webpack:///./src/components/administracion/GestionLevantamientoContadorUsuario.vue?40df"],"names":["mixins","Themeable","extend","name","props","inset","Boolean","render","h","staticClass","class","this","themeClasses","attrs","$attrs","on","$listeners","$slots","default","_vm","_c","ref","model","userFormValid","$$v","expression","$event","indexOf","addEmailUser","handleBlur","email","callback","id","click","staticRenderFns","data","users","enabled","created","obtenerUsers","methods","fieldEmailRule","$refs","userform","resetValidation","$route","params","response","axios","get","error","console","log","$toast","validate","correo","post","success","reset","item","IdUser","delete","force","info","component"],"mappings":"sKAAA,sCAUeA,sBACbC,QAEAC,OAAO,CACPC,KAAM,cAENC,MAAO,CACLC,MAAOC,SAGTC,OAAQC,GACN,OAAOA,EAAE,MAAO,CACdC,YAAa,cACbC,MAAO,CACL,qBAAsBC,KAAKN,SACxBM,KAAKC,cAEVC,MAAOF,KAAKG,OACZC,GAAIJ,KAAKK,YACRL,KAAKM,OAAOC,a,6LC7BuN,aAAC,IAAGC,EAAoCV,OAAsBI,EAAK,EAAC,S,OAAC,QAAQ,8BAAK,OAAIO,KAAG,GAAUC,SAAI,GAAa,MAAC,GAAC,MAAQ,gB,GAA0C,CAAE,kBAACC,OAAM,oB,GAAoDH,GAAII,gBAAcC,EAAG,Q,YAAC,U,MAACC,CAA0B,cAAuBhB,UAAW,CAAa,IAAK,WAAgBI,IAAO,OAAQ,YAAqB,qBAA4CE,MAAG,CAAC,MAAO,EAAC,c,SAAqBW,SAAYC,GAAiF,gBAAWC,GAAqC,WAAWC,kBAAYP,GAAK,OAAC,C,YAAYQ,a,CAAOC,SAAS,C,MAAmB,CAAU,MAAC,qBAACN,SAAW,GAAO,0BAA8BhB,IAA0BW,MAAG,SAAa,GAA2K,OAAS,EAAC,aAAc,sDAAS,EAACY,oCAA4HnB,KAAM,c,MAAwB,CAACE,MAAG,Q,SAAQ,SAACkB,G,EAAiB,MAAU,GAAoB,uBAAgD,IAAI,GAAG,EAAG,OAAO,CAAuBpB,YAAM,a,CAAC,SAAS,gK,OAAC,SAAa,CAAC,MAAQ,IAAG,UAAQ,yDAAe,OAAI,sB,GAA0B,CAAyB,kBAAC,4BAAuEM,GAAM,GAAC,2BAA6B,IAAG,MACrtD,sCACGe,OAEJ,KAAS3B,G,qNCsDM,GACfJ,KAAA,sCAEAgC,OACA,OACAZ,eAAA,EACAa,MAAA,GACAN,MAAA,GACAO,SAAA,IAIAC,UACA,KAAAC,gBAGAC,QAAA,CACAC,eAAAX,eAAA,kCAEAD,aACA,KAAAa,MAAAC,SAAAC,mBAGA,qBACA,SAAAZ,GAAA,KAAAa,OAAAC,OACA,IACA,MAAAC,QAAA,KAAAC,MAAAC,IACA,0BAAAjB,gBAEA,KAAAI,MAAAW,EAAAZ,UACA,KAAAE,SAAA,EACA,MAAAa,GACAC,QAAAC,IAAAF,GACA,KAAAG,OAAAH,MAAA,+CACA,KAAAd,MAAA,KAIA,qBACA,MAAAkB,EAAA,KAAAZ,MAAAC,SAAAW,WACA,IAAAA,EACA,OAEA,SAAAtB,GAAA,KAAAa,OAAAC,OACA,IACA,MACAX,MACAA,MAAAL,MAAAyB,WAEA,KAAAP,MAAAQ,KAAA,0BAAAxB,eAAA,CACAF,MAAA,KAAAA,QAEA,KAAAuB,OAAAI,QAAA,aAAAF,qBACA,KAAAhB,eACA,MAAAW,GACAC,QAAAC,IAAAF,GACA,KAAAG,OAAAH,MAAA,gCAEA,KAAAR,MAAAC,SAAAe,QACA,KAAAhB,MAAAC,SAAAC,mBAGA,mBAAAe,GACA,SAAA3B,GAAA,KAAAa,OAAAC,QACAd,GAAA4B,EAAA9B,MAAAyB,GAAAI,EACA,UACA,KAAAX,MAAAa,OACA,0BAAA7B,gBAAA4B,IACA,CACAd,OAAA,CACAgB,OAAA,KAIA,KAAAT,OAAAU,KAAA,aAAAR,sBACA,MAAAL,GACAC,QAAAC,IAAAF,GACA,KAAAG,OAAAH,MAAA,gCAEA,KAAAX,eACA,KAAAG,MAAAC,SAAAe,QACA,KAAAhB,MAAAC,SAAAC,qBC3I4X,I,YCOxXoB,EAAY,eACd,EACA,EACA9B,GACA,EACA,KACA,KACA,MAIa,aAAA8B,E","file":"js/web:administracion:conteo-vehicular-usuario.9494a658.js","sourcesContent":["// Styles\nimport './VSubheader.sass'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nexport default mixins(\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-subheader',\n\n  props: {\n    inset: Boolean,\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-subheader',\n      class: {\n        'v-subheader--inset': this.inset,\n        ...this.themeClasses,\n      },\n      attrs: this.$attrs,\n      on: this.$listeners,\n    }, this.$slots.default)\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.enabled)?_c('div',[_c('v-btn',{attrs:{\"dark\":\"\",\"outlined\":\"\",\"large\":\"\",\"color\":\"red darken-2\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\" Regresar \")]),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"width\":\"50%\"}},[_c('v-form',{ref:\"userform\",on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.userFormValid),callback:function ($$v) {_vm.userFormValid=$$v},expression:\"userFormValid\"}},[_c('v-card-title',{staticClass:\"mb-0 pb-0\"},[_c('v-text-field',{attrs:{\"label\":\"Ingresar el correo\",\"outlined\":\"\",\"rules\":[_vm.fieldEmailRule]},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addEmailUser.apply(null, arguments)},\"blur\":_vm.handleBlur},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1)],1),_c('v-card-text',{staticClass:\"mt-0 pt-0\"},[_c('v-list',[_c('v-subheader',[_vm._v(\" \"+_vm._s(_vm.users?.length ? 'Participantes' : 'No se han agregado participantes')+\" \")]),_c('v-list-item-group',_vm._l((_vm.users),function(user){return _c('v-list-item',{key:user.id},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(user.email))])],1),_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":\"red darken-2\"},on:{\"click\":function($event){return _vm.eliminarUser(user)}}},[_vm._v(\" mdi-delete-outline \")])],1)],1)}),1)],1)],1)],1)],1):_c('div',[_c('v-btn',{attrs:{\"dark\":\"\",\"outlined\":\"\",\"large\":\"\",\"color\":\"red darken-2\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\" Regresar \")]),_c('p',{staticClass:\"font-weight-regular\"},[_vm._v(\"Recurso no encontrado\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"enabled\">\n      <v-btn @click=\"$router.go(-1)\" dark outlined large color=\"red darken-2\">\n        Regresar\n      </v-btn>\n\n      <v-card class=\"mx-auto\" width=\"50%\">\n        <v-form ref=\"userform\" @submit.prevent v-model=\"userFormValid\">\n          <v-card-title class=\"mb-0 pb-0\">\n            <v-text-field\n              v-model=\"email\"\n              label=\"Ingresar el correo\"\n              outlined\n              :rules=\"[fieldEmailRule]\"\n              @keyup.enter=\"addEmailUser\"\n              @blur=\"handleBlur\"\n            >\n            </v-text-field>\n          </v-card-title>\n        </v-form>\n\n        <v-card-text class=\"mt-0 pt-0\">\n          <v-list>\n            <v-subheader>\n              {{\n                users?.length\n                  ? 'Participantes'\n                  : 'No se han agregado participantes'\n              }}\n            </v-subheader>\n            <v-list-item-group>\n              <v-list-item v-for=\"user in users\" :key=\"user.id\">\n                <v-list-item-content>\n                  <v-list-item-title>{{ user.email }}</v-list-item-title>\n                </v-list-item-content>\n                <v-list-item-icon>\n                  <v-icon color=\"red darken-2\" @click=\"eliminarUser(user)\">\n                    mdi-delete-outline\n                  </v-icon>\n                </v-list-item-icon>\n              </v-list-item>\n            </v-list-item-group>\n          </v-list>\n        </v-card-text>\n      </v-card>\n    </div>\n    <div v-else>\n      <v-btn @click=\"$router.go(-1)\" dark outlined large color=\"red darken-2\">\n        Regresar\n      </v-btn>\n      <p class=\"font-weight-regular\">Recurso no encontrado</p>\n    </div>\n  </div>\n</template>\n<script>\nimport { email } from '../../http/Validation';\n\nexport default {\n  name: 'GestionLevantamientoContadorUsuario',\n\n  data() {\n    return {\n      userFormValid: true,\n      users: [],\n      email: '',\n      enabled: false,\n    };\n  },\n\n  created() {\n    this.obtenerUsers();\n  },\n\n  methods: {\n    fieldEmailRule: email('Debe agregar un correo v√°lido.'),\n\n    handleBlur() {\n      this.$refs.userform.resetValidation();\n    },\n\n    async obtenerUsers() {\n      const { id } = this.$route.params;\n      try {\n        const response = await this.axios.get(\n          `levantamiento-contador/${id}/agrupacion`,\n        );\n        this.users = response.data.data;\n        this.enabled = true;\n      } catch (error) {\n        console.log(error);\n        this.$toast.error('Error al obtener los usuarios del contador.');\n        this.users = [];\n      }\n    },\n\n    async addEmailUser() {\n      const validate = this.$refs.userform.validate();\n      if (!validate) {\n        return;\n      }\n      const { id } = this.$route.params;\n      try {\n        const {\n          data: {\n            data: { email: correo },\n          },\n        } = await this.axios.post(`levantamiento-contador/${id}/agrupacion`, {\n          email: this.email,\n        });\n        this.$toast.success(`El correo ${correo} se ha agregado.`);\n        this.obtenerUsers();\n      } catch (error) {\n        console.log(error);\n        this.$toast.error('Error al agregar el usuario.');\n      }\n      this.$refs.userform.reset();\n      this.$refs.userform.resetValidation();\n    },\n\n    async eliminarUser(item) {\n      const { id } = this.$route.params;\n      const { id: IdUser, email: correo } = item;\n      try {\n        await this.axios.delete(\n          `levantamiento-contador/${id}/agrupacion/${IdUser}`,\n          {\n            params: {\n              force: true,\n            },\n          },\n        );\n        this.$toast.info(`El correo ${correo} se ha eliminado.`);\n      } catch (error) {\n        console.log(error);\n        this.$toast.error('Error al eliminar el correo.');\n      }\n      this.obtenerUsers();\n      this.$refs.userform.reset();\n      this.$refs.userform.resetValidation();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestionLevantamientoContadorUsuario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestionLevantamientoContadorUsuario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GestionLevantamientoContadorUsuario.vue?vue&type=template&id=8b1dd908&\"\nimport script from \"./GestionLevantamientoContadorUsuario.vue?vue&type=script&lang=js&\"\nexport * from \"./GestionLevantamientoContadorUsuario.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}